CREATE TABLE IF NOT EXISTS `TransferHistories` (
    `id`                VARCHAR(45) NOT NULL, -- <UNIX TIME><MD5(UUID())> ex: 16070547301da582c12faffec579c21f7d5940b094
    `petID`             BIGINT NOT NULL,
    `fromAddress`       VARCHAR(42) NOT NULL,
    `toAddress`         VARCHAR(42) NOT NULL,
    `priceETH`          VARCHAR(255),
    `priceUSD`          VARCHAR(255),
    `createdAt`         DATETIME DEFAULT CURRENT_TIMESTAMP(),
    `updatedAt`         DATETIME DEFAULT CURRENT_TIMESTAMP() ON UPDATE CURRENT_TIMESTAMP(),
    PRIMARY KEY (id, createdAt)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4
PARTITION BY RANGE(YEAR(createdAt)) (
PARTITION p2021 VALUES LESS THAN (YEAR('2022-01-01 00:00:00')),
PARTITION p2022 VALUES LESS THAN (YEAR('2023-01-01 00:00:00')),
PARTITION p2023 VALUES LESS THAN (YEAR('2024-01-01 00:00:00')),
PARTITION p2024 VALUES LESS THAN (YEAR('2025-01-01 00:00:00')),
PARTITION p2025 VALUES LESS THAN (YEAR('2026-01-01 00:00:00')),
PARTITION p_feature VALUES LESS THAN MAXVALUE
);
